print "Set Generic JVM arguments"
AdminTask.setJVMProperties('[-nodeName DefaultNode01 -serverName server1 -verboseModeClass false -verboseModeGarbageCollection true -verboseModeJNI false -runHProf false -hprofArguments -debugMode false -debugArgs "-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=7777" -executableJarFileName -genericJvmArguments "-Xnoloa -Xdump:stack:events=throw+systhrow,filter=java/lang/NumberFormatException#pdpro/exception/MyExceptionServlet.doPost#5 -Xtrace:print=mt,methods={java/lang/System.gc},trigger=method{java/lang/System.gc,jstacktrace}" -disableJIT false]')

print "Install db.connections.war ..."
AdminApp.install('/work/config/pdpro.ear', '[ -nopreCompileJSPs -distributeApp -nouseMetaDataFromBinary -nodeployejb -appname PDPro -createMBeansForResources -noreloadEnabled -nodeployws -validateinstall warn -noprocessEmbeddedConfig -filepermission .*\.dll=755#.*\.so=755#.*\.a=755#.*\.sl=755 -noallowDispatchRemoteInclude -noallowServiceRemoteInclude -asyncRequestDispatchType DISABLED -nouseAutoLink -noenableClientModule -clientMode isolated -novalidateSchema -MapModulesToServers [[ Crash Crash.war,WEB-INF/web.xml WebSphere:cell=DefaultCell01,node=DefaultNode01,server=server1 ][ Hang Hang.war,WEB-INF/web.xml WebSphere:cell=DefaultCell01,node=DefaultNode01,server=server1 ][ Exception Exception.war,WEB-INF/web.xml WebSphere:cell=DefaultCell01,node=DefaultNode01,server=server1 ][ OutOfMemory OutOfMemory.war,WEB-INF/web.xml WebSphere:cell=DefaultCell01,node=DefaultNode01,server=server1 ][ Top Top.war,WEB-INF/web.xml WebSphere:cell=DefaultCell01,node=DefaultNode01,server=server1 ]] -MapWebModToVH [[ Crash Crash.war,WEB-INF/web.xml default_host ][ Hang Hang.war,WEB-INF/web.xml default_host ][ Exception Exception.war,WEB-INF/web.xml default_host ][ OutOfMemory OutOfMemory.war,WEB-INF/web.xml default_host ][ Top Top.war,WEB-INF/web.xml default_host ]]]' )
AdminConfig.save()

